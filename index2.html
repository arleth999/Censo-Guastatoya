<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>El Progreso - Arleth L칩pez 1890-17-23444</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

  <div class="container py-4">
    <h1 class="text-center mb-4">游늵 Censo - El Progreso</h1>
      <label for="municipio" class="form-label fw-bold">Selecciona un municipio:</label>
      <select id="municipio" class="form-select">
        <option value="999">Departamento El Progreso</option>
        <option value="201">Guastatoya</option>
        <option value="202">Moraz치n</option>
        <option value="203">San Agust칤n Acasaguastl치n</option>
        <option value="204">San Crist칩bal Acasaguastl치n</option>
        <option value="205">El J칤caro</option>
        <option value="206">Sansare</option>
        <option value="207">Sanarate</option>
        <option value="208">San Antonio La Paz</option>
      </select>
    </div>

   
    <div id="datos" class="row gy-3"></div>
  </div>

  <script>
    const API_URL = "https://censopoblacion.azurewebsites.net/API/indicadores/2/1";

    document.getElementById("municipio").addEventListener("change", cargarDatos);

    async function cargarDatos() {
      const codigo = document.getElementById("municipio").value;
      const respuesta = await fetch(API_URL + codigo);
      const data = await respuesta.json();

      let contenedor = document.getElementById("datos");
      contenedor.innerHTML = "";

      data.forEach(indicador => {
        contenedor.innerHTML += `
          <div class="col-md-6">
            <div class="card shadow-sm border-0">
              <div class="card-body">
                <h5 class="card-title">${indicador.Nombre}</h5>
                <p class="card-text">Valor: <strong>${indicador.Valor}</strong></p>
                <p class="text-muted">Unidad: ${indicador.Unidad || "N/A"}</p>
              </div>
            </div>
          </div>
        `;
      });
    }

    
    cargarDatos();
  </script>

</body>
</html>
